# REGRAS DE ORGANIZAÃ‡ÃƒO ATUALIZADAS - SGB_V2

---

## ğŸ§  CONTEXTO DO AGENTE ZYKOR

**IMPORTANTE**: Em cada novo chat, leia os arquivos de contexto:

```
.cursor/zykor-context.md  â† VisÃ£o geral, integraÃ§Ãµes, KPIs
.cursor/ideias.md         â† Ideias em andamento
.cursor/decisoes.md       â† DecisÃµes arquiteturais
.cursor/historico.md      â† O que foi implementado
```

**Ao iniciar um chat:**
1. Leia `.cursor/zykor-context.md` para entender o projeto
2. Verifique `.cursor/ideias.md` para saber prioridades
3. Consulte `.cursor/decisoes.md` antes de tomar decisÃµes arquiteturais
4. Atualize `.cursor/historico.md` apÃ³s implementaÃ§Ãµes significativas

**Ao finalizar uma sessÃ£o:**
1. Atualize `historico.md` com o que foi feito
2. Mova ideias implementadas para "âœ… IDEIAS IMPLEMENTADAS"
3. Adicione novas decisÃµes em `decisoes.md`

## ğŸ”š REGRA DE FINALIZAÃ‡ÃƒO OBRIGATÃ“RIA

**SEMPRE antes de encerrar qualquer sessÃ£o de trabalho:**

1. âš ï¸ **PERGUNTAR AO USUÃRIO**: "Quer que eu atualize os arquivos de contexto antes de finalizar?"
2. Se sim, atualizar:
   - `.cursor/historico.md` - O que foi implementado nesta sessÃ£o
   - `.cursor/ideias.md` - Marcar ideias como implementadas ou em andamento
   - `.cursor/decisoes.md` - Novas decisÃµes arquiteturais (se houver)
3. Fazer commit das atualizaÃ§Ãµes: `docs: atualizar contexto da sessÃ£o YYYY-MM-DD`
4. Fazer push (com confirmaÃ§Ã£o do usuÃ¡rio)

**Gatilhos para perguntar:**
- UsuÃ¡rio diz "finalizar", "encerrar", "por hoje Ã© isso", "obrigado", "valeu"
- SessÃ£o teve implementaÃ§Ãµes significativas
- Mais de 3-5 commits foram feitos na sessÃ£o

**NÃƒO ESQUECER**: Esta regra Ã© OBRIGATÃ“RIA para manter continuidade entre sessÃµes!

---

## âš ï¸ REGRAS CRÃTICAS ABSOLUTAS (NUNCA IGNORAR)

### ğŸ”’ 1. GIT PUSH - SEMPRE PERGUNTAR AO USUÃRIO
```bash
# âŒ NUNCA fazer push automÃ¡tico
git push origin main

# âœ… SEMPRE perguntar antes
"Posso fazer o push para origin/main? (y/n)"
```

**IMPORTANTE**: 
- âœ… `git add .` Ã© permitido automaticamente
- âœ… `git pull origin main` Ã© permitido automaticamente  
- âœ… `git commit` Ã© permitido automaticamente
- âŒ `git push` **SEMPRE** requer confirmaÃ§Ã£o explÃ­cita do usuÃ¡rio

### ğŸ’» 2. AMBIENTE WINDOWS - SINTAXE CORRETA

#### Comandos de Terminal:
```bash
# âŒ ERRADO - Sintaxe Unix/Linux
curl https://api.exemplo.com/endpoint
cat arquivo.json
ls -la
grep "texto" arquivo.txt

# âœ… CORRETO - Sintaxe PowerShell ou Node.js
Invoke-WebRequest -Uri "https://api.exemplo.com/endpoint" -Method Get
Get-Content arquivo.json
Get-ChildItem
Select-String -Pattern "texto" -Path arquivo.txt

# OU usar Node.js (preferÃ­vel)
node -e "fetch('https://api.exemplo.com/endpoint').then(r => r.json()).then(console.log)"
```

#### NavegaÃ§Ã£o de Arquivos:
```bash
# âœ… CORRETO - Windows paths
cd F:\Zykor\frontend
cd backend\supabase\functions

# âŒ ERRADO - Unix paths  
cd /f/Zykor/frontend
```

### ğŸ“„ 3. NUNCA CRIAR ARQUIVOS .MD SEM PERMISSÃƒO

```bash
# âŒ NUNCA criar automaticamente:
- Arquivos .md de documentaÃ§Ã£o
- Resumos em markdown
- Arquivos de "prÃ³ximos passos"

# âœ… SEMPRE mostrar no chat:
- Resumos de implementaÃ§Ã£o
- PrÃ³ximos passos
- DocumentaÃ§Ã£o e explicaÃ§Ãµes

# âœ… SÃ“ criar .md se o usuÃ¡rio EXPLICITAMENTE pedir:
"Pode gerar um arquivo .md com isso"
"Cria um README.md"
"Documenta isso em markdown"
```

**RAZÃƒO**: Evitar poluiÃ§Ã£o da estrutura de arquivos com documentaÃ§Ã£o desnecessÃ¡ria.

---

## Estrutura do Projeto
Este Ã© um projeto fullstack com:
- **Frontend**: Next.js 14+ com TypeScript (pasta `frontend/`)
- **Backend**: Supabase Edge Functions com Deno (pasta `backend/`)
- **DocumentaÃ§Ã£o**: Pasta `docs/`
- **Testes e Exemplos**: Pasta `exemplo_teste/` para protÃ³tipos, testes e dados de exemplo

## ESTRUTURA OBRIGATÃ“RIA ATUALIZADA

### 1. FRONTEND - ESTRUTURA DEFINITIVA (`frontend/src/app/`)

```
src/app/
â”œâ”€â”€ api/                    â† ğŸ”— TODAS AS APIS (route.ts)
â”‚   â”œâ”€â”€ usuarios/           â† Gerenciamento de usuÃ¡rios
â”‚   â”œâ”€â”€ bars/              â† Gerenciamento de bares
â”‚   â”œâ”€â”€ eventos/           â† Gerenciamento de eventos
â”‚   â”œâ”€â”€ contahub/          â† APIs ContaHub
â”‚   â”œâ”€â”€ credenciais/       â† Gerenciamento de credenciais
â”‚   â”œâ”€â”€ auth/              â† AutenticaÃ§Ã£o
â”‚   â”œâ”€â”€ checklists/        â† APIs de checklists
â”‚   â”œâ”€â”€ desempenho/        â† APIs de desempenho
â”‚   â””â”€â”€ meta/              â† APIs Meta
â”‚
â”œâ”€â”€ configuracoes/         â† ğŸ“„ Admin: checklists, templates, desempenho
â”œâ”€â”€ relatorios/            â† Todos os relatÃ³rios
â”œâ”€â”€ operacoes/             â† Funcionalidades operacionais
â”œâ”€â”€ funcionario/           â† Ãrea do funcionÃ¡rio
â”œâ”€â”€ dashboard/             â† Dashboards
â”œâ”€â”€ home/                  â† PÃ¡gina inicial
â”œâ”€â”€ login/                 â† Login
â”œâ”€â”€ auth/                  â† PÃ¡ginas de autenticaÃ§Ã£o
â”œâ”€â”€ minha-conta/           â† Conta do usuÃ¡rio
â””â”€â”€ visao-geral/           â† VisÃ£o geral e anÃ¡lises
â”‚
â”œâ”€â”€ layout.tsx            â† Layout raiz
â”œâ”€â”€ page.tsx             â† PÃ¡gina raiz ("/")
â””â”€â”€ globals.css          â† Estilos globais
```

### 2. BACKEND - EDGE FUNCTIONS (`backend/supabase/functions/`)

```
backend/supabase/functions/
â”œâ”€â”€ contaazul-sync-automatico/    â† Sync automÃ¡tico ContaAzul
â”œâ”€â”€ discord-notification/         â† NotificaÃ§Ãµes Discord
â”œâ”€â”€ login/                       â† Login/Auth
â””â”€â”€ [outras-functions]/          â† Sempre em snake_case
```

### 3. OUTRAS PASTAS

**Componentes (`frontend/src/components/`):**
- `ui/` - Componentes base (Button, Input, etc.)
- `forms/` - FormulÃ¡rios especÃ­ficos
- `layouts/` - Layouts reutilizÃ¡veis
- `uploads/` - Componentes de upload

**DocumentaÃ§Ã£o (`docs/`):**
- DocumentaÃ§Ã£o tÃ©cnica e resumos

**Testes e Exemplos (`exemplo_teste/`):**
- Mockups e protÃ³tipos
- Dados de exemplo/teste
- Exemplos de APIs externas

## REGRAS OBRIGATÃ“RIAS

### ğŸ”— PARA APIS (route.ts):
```
âœ… SEMPRE: /api/[funcionalidade]/route.ts
âœ… EXEMPLOS:
   - frontend/src/app/api/usuarios/route.ts
   - frontend/src/app/api/usuarios/[id]/route.ts
   - frontend/src/app/api/contahub/teste-5-dias/route.ts
   - frontend/src/app/api/bars/route.ts

âŒ NUNCA: 
   - /api/admin/[qualquer-coisa] (ELIMINADO COMPLETAMENTE)
   - /[funcionalidade]/route.ts (fora de api)
   - APIs duplicadas fora de /api/
```

### ğŸ“„ PARA PÃGINAS (page.tsx):
```
âœ… SEMPRE: /[categoria]/page.tsx (direto em src/app)
âœ… EXEMPLOS:
   - frontend/src/app/configuracoes/page.tsx
   - frontend/src/app/configuracoes/checklists/page.tsx
   - frontend/src/app/relatorios/contahub-teste/page.tsx
   - frontend/src/app/operacoes/receitas/page.tsx

âŒ NUNCA:
   - /admin/[qualquer-coisa] (ELIMINADO COMPLETAMENTE)
   - /paginas/[categoria]/page.tsx (NUNCA usar /paginas/)
   - PÃ¡ginas duplicadas ou estrutura confusa
```

### ğŸ¯ CATEGORIAS DE PÃGINAS DEFINIDAS:
- **`configuracoes/`** - PÃ¡ginas administrativas (ex-admin)
  - checklists, templates, desempenho, contahub-automatico
- **`relatorios/`** - Todos os relatÃ³rios
  - contahub-teste, contaazul-*, analitico, etc.
- **`operacoes/`** - Funcionalidades operacionais
  - receitas, produtos, planejamento, tempo
- **`funcionario/`** - Ãrea do funcionÃ¡rio
  - checklists do funcionÃ¡rio
- **`dashboard/`** - Dashboards especÃ­ficos
- **`auth/`** - PÃ¡ginas de autenticaÃ§Ã£o
- **`visao-geral/`** - AnÃ¡lises e visÃµes gerais

### ğŸ”„ ROTAS NO CÃ“DIGO:
```typescript
// âœ… CORRETO - Estrutura direta em src/app
{ route: '/configuracoes/checklists' }
{ route: '/relatorios/contahub-teste' }
{ route: '/operacoes/receitas' }
{ route: '/funcionario/checklists' }

// âŒ ERRADO - Estruturas antigas (eliminadas)
{ route: '/admin/checklists' }
{ route: '/paginas/configuracoes/checklists' }
{ route: '/paginas/relatorios/contahub-teste' }
```

### ğŸ“ FETCH DE APIS:
```typescript
// âœ… CORRETO - APIs sempre em /api/
await fetch('/api/usuarios')
await fetch('/api/usuarios/1')
await fetch('/api/contahub/teste-5-dias')
await fetch('/api/credenciais')
await fetch('/api/bars')

// âŒ ERRADO - Estrutura antiga (eliminada)
await fetch('/api/admin/usuarios')
await fetch('/usuarios')
await fetch('/admin/contahub-teste')
```

### ğŸ§¾ CHECKLIST OBRIGATÃ“RIO:

Antes de criar qualquer arquivo, SEMPRE verificar:

1. âœ… **Ã‰ uma API?** â†’ `/api/[funcionalidade]/route.ts`
2. âœ… **Ã‰ uma pÃ¡gina?** â†’ `/[categoria]/page.tsx` (direto em src/app)
3. âœ… **Ã‰ um componente?** â†’ `/src/components/[categoria]/`
4. âœ… **Ã‰ um hook?** â†’ `/src/hooks/`
5. âœ… **Ã‰ Edge Function?** â†’ `/backend/supabase/functions/[nome]/index.ts`
6. âœ… **NÃ£o duplica** funcionalidade existente?
7. âœ… **Segue nomenclatura** kebab-case?
8. âœ… **EstÃ¡ na pasta correta** conforme estrutura?

### ğŸš« ELIMINAÃ‡Ã•ES PERMANENTES:
- âŒ `/admin/` - **COMPLETAMENTE ELIMINADA**
- âŒ `/api/admin/` - **COMPLETAMENTE ELIMINADA**  
- âŒ `/paginas/` - **NUNCA USAR**
- âŒ APIs fora de `/api/`
- âŒ Estruturas duplicadas ou confusas

### CONVENÃ‡Ã•ES DE NOMENCLATURA

#### Arquivos e Pastas:
- **Pastas**: `kebab-case` (ex: `user-management`, `contahub-teste`)
- **Componentes**: `PascalCase` (ex: `UserForm.tsx`, `DataTable.tsx`)
- **PÃ¡ginas**: `page.tsx` (padrÃ£o App Router)
- **Layouts**: `layout.tsx` (padrÃ£o App Router)
- **APIs**: `route.ts` (padrÃ£o App Router)
- **Edge Functions**: `index.ts` dentro da pasta da funÃ§Ã£o

### REGRAS DE IMPORTS

#### Frontend:
```typescript
// âœ… CORRETO - imports relativos do projeto
import { Button } from '@/components/ui/button'
import { useAuth } from '@/hooks/useAuth'
import { supabase } from '@/lib/supabase'

// Para pÃ¡ginas, rotas direto em src/app
router.push('/configuracoes/checklists')
```

#### Backend (Edge Functions):
```typescript
// âœ… CORRETO - imports do Deno
import { serve } from 'https://deno.land/std@0.168.0/http/server.ts'
import { createClient } from 'https://esm.sh/@supabase/supabase-js@2'
```

### ESTRUTURA DE COMMITS

Sempre seguir o padrÃ£o:
```
feat(frontend): adiciona componente de upload
fix(backend): corrige autenticaÃ§Ã£o OAuth
docs: atualiza documentaÃ§Ã£o da API
```

## ğŸ¯ OBJETIVO PRINCIPAL:
**ZERO CONFUSÃƒO NA ESTRUTURA**
- **APIs** = `/api/`
- **PÃ¡ginas** = direto em `/src/app/` (SEM /paginas/)
- **Estrutura sempre clara e lÃ³gica**
- **ManutenÃ§Ã£o facilitada**
- **Desenvolvimento profissional**

---

**IMPORTANTE**: Sempre que houver dÃºvida sobre onde colocar um arquivo, seguir esta estrutura atualizada. As pastas `/admin/` e `/paginas/` foram COMPLETAMENTE ELIMINADAS - pÃ¡ginas ficam direto em `/src/app/`. 

---

# ğŸŒ™ REGRAS DE DARK MODE - SGB_V2

## ğŸ“‹ **REGRAS OBRIGATÃ“RIAS PARA DARK MODE**

### ğŸ¯ **Classes Universais (SEMPRE USE)**

#### **Textos:**
```tsx
// âœ… CORRETO
className="text-gray-900 dark:text-white"        // TÃ­tulo principal
className="text-gray-700 dark:text-gray-300"     // SubtÃ­tulo
className="text-gray-600 dark:text-gray-400"     // Texto secundÃ¡rio
className="text-gray-500 dark:text-gray-500"     // Texto muted

// âŒ ERRADO
className="text-black"
className="text-gray-900"
className="text-gray-600"
```

#### **Backgrounds:**
```tsx
// âœ… CORRETO
className="bg-white dark:bg-gray-800"           // Card/Modal principal
className="bg-gray-50 dark:bg-gray-900"         // Background secundÃ¡rio
className="bg-gray-100 dark:bg-gray-700"        // Background input/select

// âŒ ERRADO
className="bg-white"
className="bg-gray-50"
className="bg-gray-100"
```

#### **Bordas:**
```tsx
// âœ… CORRETO
className="border-gray-200 dark:border-gray-700"  // Borda principal
className="border-gray-300 dark:border-gray-600"  // Borda secundÃ¡ria

// âŒ ERRADO
className="border-gray-200"
className="border-gray-300"
```

### ğŸ”§ **Classes PrÃ©-definidas (USE QUANDO POSSÃVEL)**

#### **Cards:**
```tsx
// Substitua mÃºltiplas classes por:
className="card-dark"                          // bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl shadow-sm
className="card-title-dark"                    // text-lg font-semibold text-gray-900 dark:text-white
className="card-description-dark"              // text-sm text-gray-600 dark:text-gray-400
```

#### **BotÃµes:**
```tsx
className="btn-primary-dark"                   // Azul primÃ¡rio
className="btn-secondary-dark"                 // Cinza secundÃ¡rio
className="btn-success-dark"                   // Verde sucesso
className="btn-danger-dark"                    // Vermelho perigo
className="btn-outline-dark"                   // Contorno
```

#### **Inputs/Forms:**
```tsx
className="input-dark"                         // Input padrÃ£o
className="textarea-dark"                      // Textarea padrÃ£o
className="select-dark"                        // Select padrÃ£o
```

#### **Status/States:**
```tsx
className="status-success"                     // text-green-600 dark:text-green-400
className="status-error"                       // text-red-600 dark:text-red-400
className="status-warning"                     // text-yellow-600 dark:text-yellow-400
className="status-info"                        // text-blue-600 dark:text-blue-400
```

#### **Ãcones:**
```tsx
className="icon-primary"                       // text-gray-600 dark:text-gray-400
className="icon-secondary"                     // text-gray-500 dark:text-gray-500
className="icon-muted"                         // text-gray-400 dark:text-gray-600
```

### ğŸ¨ **Componentes EspecÃ­ficos**

#### **Badges:**
```tsx
// Use as classes badge existentes (jÃ¡ tÃªm dark mode)
className="badge-primary"
className="badge-success"
className="badge-warning"
className="badge-error"
```

#### **Tabs:**
```tsx
<TabsList className="tabs-list-dark">
  <TabsTrigger className="tabs-trigger-dark">
```

#### **Modais:**
```tsx
<DialogContent className="modal-dark">
<DialogOverlay className="modal-overlay-dark">
```

#### **Tabelas:**
```tsx
<table className="table-dark">
  <thead className="table-header-dark">
    <tr className="table-row-dark">
      <td className="table-cell-dark">
```

## ğŸš¨ **CHECKLIST DARK MODE OBRIGATÃ“RIO**

Antes de fazer commit, SEMPRE verificar:

### âœ… **Textos**
- [ ] Todos os `text-black` tÃªm `dark:text-white`
- [ ] Todos os `text-gray-900` tÃªm `dark:text-white`
- [ ] Todos os `text-gray-700` tÃªm `dark:text-gray-300`
- [ ] Todos os `text-gray-600` tÃªm `dark:text-gray-400`
- [ ] Todos os `text-gray-500` tÃªm `dark:text-gray-500`

### âœ… **Backgrounds**
- [ ] Todos os `bg-white` tÃªm `dark:bg-gray-800`
- [ ] Todos os `bg-gray-50` tÃªm `dark:bg-gray-900`
- [ ] Todos os `bg-gray-100` tÃªm `dark:bg-gray-700`

### âœ… **Bordas**
- [ ] Todas as `border-gray-200` tÃªm `dark:border-gray-700`
- [ ] Todas as `border-gray-300` tÃªm `dark:border-gray-600`

### âœ… **Cards/Componentes**
- [ ] Todos os `Card` tÃªm classes dark mode
- [ ] Todos os `Button` tÃªm variantes dark
- [ ] Todos os `Input/Textarea` tÃªm classes dark

### âœ… **Estados**
- [ ] Hover states tÃªm variantes dark
- [ ] Focus states tÃªm variantes dark
- [ ] Active states tÃªm variantes dark

## ğŸ› ï¸ **Script de VerificaÃ§Ã£o Dark Mode**

Para verificar se uma pÃ¡gina estÃ¡ compliant:

```bash
# Buscar por classes sem dark mode
grep -r "text-black\|text-gray-900\|text-gray-700\|text-gray-600" src/ --include="*.tsx" | grep -v "dark:"
grep -r "bg-white\|bg-gray-50\|bg-gray-100" src/ --include="*.tsx" | grep -v "dark:"
grep -r "border-gray-200\|border-gray-300" src/ --include="*.tsx" | grep -v "dark:"
```

## ğŸ“ **Exemplos de ConversÃ£o Dark Mode**

### Antes (âŒ):
```tsx
<div className="bg-white border border-gray-200 p-4">
  <h2 className="text-black text-lg font-semibold">TÃ­tulo</h2>
  <p className="text-gray-600">DescriÃ§Ã£o</p>
  <button className="bg-blue-600 text-white px-4 py-2">
    AÃ§Ã£o
  </button>
</div>
```

### Depois (âœ…):
```tsx
<div className="card-dark p-4">
  <h2 className="card-title-dark">TÃ­tulo</h2>
  <p className="card-description-dark">DescriÃ§Ã£o</p>
  <button className="btn-primary-dark px-4 py-2">
    AÃ§Ã£o
  </button>
</div>
```

## ğŸ¯ **REGRAS ESPECÃFICAS POR COMPONENTE**

### **Cards:**
```tsx
// âœ… SEMPRE usar
<Card className="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700">
  <CardHeader className="border-b border-gray-200 dark:border-gray-700">
    <CardTitle className="text-gray-900 dark:text-white">
    <CardDescription className="text-gray-600 dark:text-gray-400">
  </CardHeader>
</Card>
```

### **Buttons:**
```tsx
// âœ… SEMPRE incluir variantes dark
<Button className="bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 text-white">
<Button className="bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-900 dark:text-gray-100" variant="secondary">
```

### **Inputs:**
```tsx
// âœ… SEMPRE incluir dark mode
<Input className="bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400" />
<Textarea className="bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400" />
```

### **Modals/Dialogs:**
```tsx
// âœ… SEMPRE incluir dark mode
<DialogContent className="bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700">
  <DialogTitle className="text-gray-900 dark:text-white">
  <DialogDescription className="text-gray-600 dark:text-gray-400">
</DialogContent>
```

### **Tabs:**
```tsx
// âœ… SEMPRE incluir dark mode
<TabsList className="bg-gray-100 dark:bg-gray-700">
  <TabsTrigger className="data-[state=active]:bg-white data-[state=active]:text-gray-900 dark:data-[state=active]:bg-gray-600 dark:data-[state=active]:text-white dark:text-gray-300">
</TabsList>
```

## ğŸ”¥ **METAS DE DARK MODE**

- âœ… **100% das pÃ¡ginas** com dark mode funcional
- âœ… **TransiÃ§Ãµes suaves** entre temas (ThemeContext)
- âœ… **ConsistÃªncia visual** em todos os componentes
- âœ… **Performance otimizada** sem re-renders desnecessÃ¡rios
- âœ… **Acessibilidade** mantida em ambos os temas
- âœ… **PersistÃªncia** entre navegaÃ§Ã£o de pÃ¡ginas

---

## ğŸš¨ **IMPORTANTE - DARK MODE Ã‰ OBRIGATÃ“RIO**

**TODA NOVA PÃGINA OU COMPONENTE DEVE:**
1. âœ… Ter suporte completo a dark mode
2. âœ… Usar as classes prÃ©-definidas quando possÃ­vel
3. âœ… Seguir o checklist de verificaÃ§Ã£o
4. âœ… Ser testado em ambos os temas
5. âœ… Manter consistÃªncia visual com o resto do app 

---

# ğŸš€ REGRAS DE WORKFLOW E DESENVOLVIMENTO - SGB_V2

## ğŸ“‹ **REGRAS OBRIGATÃ“RIAS DE WORKFLOW**

### ğŸ”§ **1. BUILD E COMANDOS**
```bash
# âœ… CORRETO - SEMPRE usar npx
npx run build
npx next build
npx eslint .
npx prettier --write .

# âŒ ERRADO - NUNCA usar npm run
npm run build
npm run dev
npm run lint
```

### ğŸ—„ï¸ **2. BANCO DE DADOS E SUPABASE MCP**
```typescript
// âœ… SEMPRE verificar via MCP para qualquer dÃºvida sobre BD
// PROJECT ID FIXO (NUNCA ALTERAR): 
// [Manter salvo na memÃ³ria o project_id especÃ­fico do projeto]

// Para verificar tabelas, dados, estrutura:
- Use mcp_supabase_list_tables
- Use mcp_supabase_execute_sql  
- Use mcp_supabase_generate_typescript_types
- Use mcp_supabase_sql_query

// âŒ NUNCA criar scripts externos para consultas BD
// âŒ NUNCA assumir estrutura de tabelas sem verificar via MCP
```

### ğŸ“Š **3. QUERIES E VERIFICAÃ‡Ã•ES**
```typescript
// âœ… CORRETO - SEMPRE usar MCP direto nas tabelas
await mcp_supabase_sql_query({
  sql: "SELECT * FROM usuarios WHERE ativo = true"
})

// âœ… Verificar estrutura via MCP antes de criar cÃ³digo
await mcp_supabase_list_tables({ project_id })

// âŒ ERRADO - Criar scripts separados
// âŒ ERRADO - Assumir estrutura sem verificar
```

### ğŸ”„ **4. GIT WORKFLOW OBRIGATÃ“RIO**
```bash
# âœ… SEMPRE ao finalizar demandas:
git add .
git pull origin main  
git commit -m "feat: [descriÃ§Ã£o da feature]"

# âš ï¸ PERGUNTAR AO USUÃRIO antes de:
"Posso fazer o push para origin/main? (y/n)"

# SÃ³ apÃ³s confirmaÃ§Ã£o:
git push origin main

# Manter sistema em produÃ§Ã£o sempre atualizado
# NUNCA deixar commits pendentes por muito tempo
# SEMPRE testar antes do push final
# âŒ NUNCA fazer push sem confirmaÃ§Ã£o explÃ­cita
```

### ğŸ¨ **5. PADRÃƒO DE LAYOUT E CSS**
```tsx
// âœ… SEMPRE seguir padrÃ£o consistente em TODAS as pÃ¡ginas:

// Layout padrÃ£o de pÃ¡gina:
<div className="min-h-screen bg-gray-50 dark:bg-gray-900">
  <div className="container mx-auto px-4 py-6">
    <div className="card-dark p-6">
      <h1 className="card-title-dark mb-4">TÃ­tulo da PÃ¡gina</h1>
      {/* ConteÃºdo */}
    </div>
  </div>
</div>

// Spacing consistente:
- Containers: px-4 py-6
- Cards: p-6
- Elementos: mb-4, gap-4, space-y-4
- Titles: card-title-dark mb-4
- Descriptions: card-description-dark mb-6

// Grid padrÃ£o:
- Desktop: grid-cols-1 lg:grid-cols-2 xl:grid-cols-3
- Mobile: Sempre responsivo
- Gap: gap-4 ou gap-6
```

## ğŸ¯ **CHECKLIST FINAL DE DESENVOLVIMENTO**

Antes de qualquer commit, SEMPRE verificar:

### âœ… **Build e Comandos**
- [ ] Usei `npx run build` em vez de `npm run build`?
- [ ] Todos os comandos usam `npx` quando necessÃ¡rio?

### âœ… **Banco de Dados**
- [ ] Verifiquei estrutura via MCP antes de cÃ³digo?
- [ ] Usei MCP para queries em vez de scripts?
- [ ] Project ID estÃ¡ correto e fixo?
- [ ] Testei queries direto no MCP antes de implementar?

### âœ… **CÃ³digo e Layout**
- [ ] Segue padrÃ£o de layout consistente?
- [ ] Dark mode implementado em todos os componentes?
- [ ] Classes CSS seguem padrÃ£o definido?
- [ ] Responsividade testada?

### âœ… **Git e Deploy**
- [ ] Fiz `git add .`?
- [ ] Fiz `git pull origin main`?
- [ ] Commit com mensagem descritiva?
- [ ] **PERGUNTEI AO USUÃRIO** antes de fazer push?
- [ ] Recebi confirmaÃ§Ã£o para `git push origin main`?
- [ ] Sistema em produÃ§Ã£o atualizado?

## ğŸš¨ **PRIORIDADES CRÃTICAS**

1. **NEVER PUSH WITHOUT ASKING**: âŒ NUNCA fazer `git push` sem confirmaÃ§Ã£o explÃ­cita do usuÃ¡rio
2. **WINDOWS ENVIRONMENT**: âœ… Sempre usar sintaxe PowerShell/Windows correta (nÃ£o Unix/Linux)
3. **NO AUTO .MD FILES**: âŒ NUNCA criar arquivos .md sem permissÃ£o - mostrar no chat
4. **MCP FIRST**: Sempre verificar BD via MCP antes de qualquer implementaÃ§Ã£o
5. **NPX ONLY**: Nunca usar `npm run`, sempre `npx`
6. **LAYOUT CONSISTENCY**: Toda pÃ¡gina deve seguir padrÃ£o visual
7. **GIT DISCIPLINE**: Sempre finalizar com sequÃªncia completa de git
8. **PRODUCTION READY**: CÃ³digo sempre pronto para produÃ§Ã£o

---

## ğŸ¯ **SUPABASE PROJECT CONFIG**

```typescript
// PROJECT ID FIXO (MEMORIZAR):
const SUPABASE_PROJECT_ID = "uqtgsvujwcbymjmvkjhy"

// SEMPRE usar este ID em consultas MCP
// NUNCA alterar ou pedir novamente
// Manter consistÃªncia em todas as operaÃ§Ãµes
// Projeto: SGB (sa-east-1)
```

---

# ğŸ¨ REGRAS DE UI/UX - BOTÃ•ES E COMPONENTES

## ğŸ“‹ **REGRA OBRIGATÃ“RIA: ÃCONES EM BOTÃ•ES**

### âœ… **ÃCONE SEMPRE AO LADO DO TEXTO (HORIZONTAL)**

**NUNCA usar Ã­cone acima do texto (vertical layout)**

```tsx
// âœ… CORRETO - Ãcone ao lado do texto (horizontal)
<Button>
  <IconComponent className="w-4 h-4 mr-2" />
  Texto do BotÃ£o
</Button>

<Button>
  Texto do BotÃ£o
  <IconComponent className="w-4 h-4 ml-2" />
</Button>

// âŒ ERRADO - Ãcone acima do texto (vertical)
<Button className="flex flex-col">
  <IconComponent className="w-4 h-4 mb-1" />
  Texto do BotÃ£o
</Button>
```

### ğŸ¯ **PadrÃµes de BotÃµes com Ãcones**

#### **1. Ãcone Ã  esquerda (mais comum):**
```tsx
<Button>
  <Plus className="w-4 h-4 mr-2" />
  Adicionar
</Button>

<Button>
  <Edit className="w-4 h-4 mr-2" />
  Editar
</Button>

<Button>
  <Trash2 className="w-4 h-4 mr-2" />
  Excluir
</Button>
```

#### **2. Ãcone Ã  direita:**
```tsx
<Button>
  PrÃ³ximo
  <ChevronRight className="w-4 h-4 ml-2" />
</Button>

<Button>
  Ver Mais
  <ArrowRight className="w-4 h-4 ml-2" />
</Button>
```

#### **3. BotÃµes Loading/States:**
```tsx
<Button disabled={loading}>
  {loading ? (
    <>
      <RefreshCcw className="w-4 h-4 mr-2 animate-spin" />
      Carregando...
    </>
  ) : (
    <>
      <Save className="w-4 h-4 mr-2" />
      Salvar
    </>
  )}
</Button>
```

#### **4. Apenas Ãcone (Icon Button):**
```tsx
// Para botÃµes pequenos sem texto
<Button size="sm" variant="ghost">
  <Edit className="w-4 h-4" />
</Button>
```

### ğŸš« **O QUE NUNCA FAZER**

```tsx
// âŒ NUNCA - Ãcone empilhado verticalmente
<Button className="flex flex-col items-center">
  <Settings className="w-5 h-5 mb-1" />
  <span className="text-xs">Config</span>
</Button>

// âŒ NUNCA - Usar flex-col em botÃµes com Ã­cone e texto
<div className="flex flex-col">
  <Icon />
  <span>Texto</span>
</div>

// âŒ NUNCA - Ãcone muito grande desproporcional ao texto
<Button>
  <Icon className="w-10 h-10" />  {/* Too big! */}
  <span className="text-sm">BotÃ£o</span>
</Button>
```

### âœ… **Tamanhos de Ãcone Recomendados**

- **BotÃµes padrÃ£o**: `w-4 h-4` ou `w-5 h-5`
- **BotÃµes pequenos (sm)**: `w-3 h-3` ou `w-4 h-4`
- **BotÃµes grandes (lg)**: `w-5 h-5` ou `w-6 h-6`
- **Icon-only buttons**: `w-4 h-4` ou `w-5 h-5`

### ğŸ¨ **EspaÃ§amento PadrÃ£o**

- **Ãcone Ã  esquerda**: `mr-2` (margin-right)
- **Ãcone Ã  direita**: `ml-2` (margin-left)
- **BotÃµes pequenos**: `mr-1` ou `ml-1`
- **BotÃµes grandes**: `mr-3` ou `ml-3`

## ğŸ§¾ **CHECKLIST DE BOTÃ•ES**

Antes de criar/modificar botÃµes, verificar:

- [ ] Ãcone estÃ¡ ao lado do texto (horizontal)?
- [ ] Tamanho do Ã­cone Ã© proporcional ao botÃ£o?
- [ ] EspaÃ§amento entre Ã­cone e texto estÃ¡ correto?
- [ ] NÃ£o hÃ¡ `flex-col` ou layout vertical?
- [ ] Dark mode estÃ¡ funcionando?
- [ ] Ãcone tem classes de tamanho (`w-X h-X`)?
- [ ] Loading states estÃ£o com Ã­cone horizontal?

## ğŸ“ **Exemplos Completos Corretos**

```tsx
// BotÃ£o PrimÃ¡rio com Ãcone
<Button className="bg-blue-600 hover:bg-blue-700">
  <Plus className="w-4 h-4 mr-2" />
  Adicionar Item
</Button>

// BotÃ£o SecundÃ¡rio com Ãcone
<Button variant="outline">
  <Edit className="w-4 h-4 mr-2" />
  Editar
</Button>

// BotÃ£o de NavegaÃ§Ã£o
<Button variant="ghost">
  Voltar
  <ChevronLeft className="w-4 h-4 ml-2" />
</Button>

// BotÃ£o com Loading State
<Button disabled={isLoading}>
  {isLoading ? (
    <>
      <RefreshCcw className="w-4 h-4 mr-2 animate-spin" />
      Processando...
    </>
  ) : (
    <>
      <Check className="w-4 h-4 mr-2" />
      Confirmar
    </>
  )}
</Button>

// Grupo de BotÃµes
<div className="flex gap-2">
  <Button>
    <Save className="w-4 h-4 mr-2" />
    Salvar
  </Button>
  <Button variant="outline">
    <X className="w-4 h-4 mr-2" />
    Cancelar
  </Button>
</div>
```

---

**IMPORTANTE**: Essas regras sÃ£o OBRIGATÃ“RIAS e devem ser seguidas em 100% do desenvolvimento. Qualquer desvio deve ser discutido e aprovado antes da implementaÃ§Ã£o. 